---
layout: default
title: Accueil
---

<div class="page-header">
  <h2>Nos Dernières Découvertes</h2>
  <p>Explorez nos critiques de restaurants à Sherbrooke</p>
</div>

<div class="post-grid">
  {% for post in site.posts %}
    {% if post.layout == 'restaurant' %}
    <div class="post-card">
      <a href="{{ post.url | relative_url }}" class="post-link">
        <div class="post-image" style="background-image: url('{{ post.image }}')"></div>
        <div class="content">
          <h2>{{ post.title }}</h2>
          <div class="rating">
            <span class="stars">
              {% assign rating = post.note | default: 0 %}
              {% for i in (1..5) %}
                {% if i <= rating %}
                  ⭐
                {% endif %}
              {% endfor %}
            </span>
            <span class="score">{{ rating }}/5</span>
          </div>
          <p class="description">{{ post.description | truncate: 150 }}</p>
          <div class="meta">
            <span class="date"><i class="far fa-calendar"></i> {{ post.date | date: "%d %b %Y" }}</span>
            {% if post.style %}
            <span class="cuisine-style"><i class="fas fa-utensils"></i> {{ post.style }}</span>
            {% endif %}
          </div>
        </div>
      </a>
    </div>
    {% endif %}
  {% endfor %}
</div>

{% if paginator.total_pages > 1 %}
<div class="pagination">
  {% if paginator.previous_page %}
    <a href="{{ paginator.previous_page_path }}" class="previous">← Précédent</a>
  {% endif %}
  
  <span class="page_number">Page {{ paginator.page }} sur {{ paginator.total_pages }}</span>
  
  {% if paginator.next_page %}
    <a href="{{ paginator.next_page_path }}" class="next">Suivant →</a>
  {% endif %}
</div>
{% endif %}

<script>
  // Restore scroll position when returning to the page
  window.addEventListener('load', function() {
    const scrollPosition = sessionStorage.getItem('scrollPosition');
    if (scrollPosition) {
      window.scrollTo(0, parseInt(scrollPosition));
      sessionStorage.removeItem('scrollPosition');
    }
  });
</script>
